<%- include('partials/header') -%>

<% function truncateString(str, maxLength) {
  if (str.length > maxLength) {
      return str.slice(0, maxLength) + '...';
  }
  return str;
} %>

<div class="row">
    <div class="col s12 m3"> <!-- Smaller side panel -->
        <div class="card-panel">
            <div>
                <p><strong>User Name</strong>: <%= user.userName %></p>
                <p><strong>Email</strong>: <%= user.email %></p>
                <a href="/logout" class="btn">Logout</a>
            </div>
        </div>
    </div>
    <div class="col s12 m9"> <!-- Main content area -->
        <div class="card-panel center-align">
            <div class="row">
                <% for (var i = 0; i < reviews.length; i++) { %>
                    <div class="col s12 m6 l4">
                        <div class="card z-depth-2 medium">
                            <div class="card-content">
                                <a href="/review/<%= reviews[i]._id %>">
                                    <img src="<%= reviews[i].image %>" class=" custom-image" alt="Review Image">
                                </a>
                                <span class="card-title"><%= reviews[i].title.substring(0, 30) %></span>
                                <p style="font-size: 12px;"><%= reviews[i].review.substring(0, 20) %>...</p>
                            </div>
                            <div class="card-action">
                              <a href="/review/<%= reviews[i]._id %>">Read this review</a>
                            </div>
                        </div>
                    </div>
                <% } %>
            </div>
            <div class="row">
                <div class="col s12">
                    <a href="/feed" class="btn">Return to Favorites</a>
                    <a href="/recommends" class="btn">View your recommendations</a>
                </div>
            </div>
        </div>
    </div>
</div>

<%- include('partials/footer') -%>
